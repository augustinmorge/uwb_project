<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.7"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DW1000: C:/Users/augustin.morge/Documents/Arduino/libraries/DW1000/src/DW1000Time.cpp</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">DW1000
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.7 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('_c_1_2_users_2augustin_8morge_2_documents_2_arduino_2libraries_2_d_w1000_2src_2_d_w1000_time_8cpp-example.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">C:/Users/augustin.morge/Documents/Arduino/libraries/DW1000/src/DW1000Time.cpp</div></div>
</div><!--header-->
<div class="contents">
<p>Converts negative values due overflow of one node to correct value</p>
<p>Maximum timesamp is 1000. Node N1 sends 999 as timesamp. N2 recieves and sends delayed and increased timestamp back. Delay is 10, so timestamp would be 1009, but due overflow 009 is sent back. Now calculate TOF: 009 - 999 = -990 -&gt; not correct time, so wrap() Wrap calculation: -990 + 1000 = 10 -&gt; correct time </p><dl class="section return"><dt>Returns</dt><dd></dd></dl>
<div class="fragment"><div class="line"> </div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="_d_w1000_time_8h.html">DW1000Time.h</a>&quot;</span></div>
<div class="line"> </div>
<div class="line"><a id="a0" name="a0"></a><a class="code hl_function" href="class_d_w1000_time.html#a6d9648e0fea1899def84dc09556bd29d">DW1000Time::DW1000Time</a>() {</div>
<div class="line">    _timestamp = 0;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><a class="code hl_function" href="class_d_w1000_time.html#a6d9648e0fea1899def84dc09556bd29d">DW1000Time::DW1000Time</a>(int64_t time) {</div>
<div class="line">    <a id="a1" name="a1"></a><a class="code hl_function" href="class_d_w1000_time.html#a62dcd395c3fc6819d4c1994dad06db78">setTimestamp</a>(time);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><a class="code hl_function" href="class_d_w1000_time.html#a6d9648e0fea1899def84dc09556bd29d">DW1000Time::DW1000Time</a>(<span class="keywordtype">byte</span> data[]) {</div>
<div class="line">    <a class="code hl_function" href="class_d_w1000_time.html#a62dcd395c3fc6819d4c1994dad06db78">setTimestamp</a>(data);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><a class="code hl_function" href="class_d_w1000_time.html#a6d9648e0fea1899def84dc09556bd29d">DW1000Time::DW1000Time</a>(<span class="keyword">const</span> <a id="_a2" name="_a2"></a><a class="code hl_class" href="class_d_w1000_time.html">DW1000Time</a>&amp; copy) {</div>
<div class="line">    <a class="code hl_function" href="class_d_w1000_time.html#a62dcd395c3fc6819d4c1994dad06db78">setTimestamp</a>(copy);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><a class="code hl_function" href="class_d_w1000_time.html#a6d9648e0fea1899def84dc09556bd29d">DW1000Time::DW1000Time</a>(<span class="keywordtype">float</span> timeUs) {</div>
<div class="line">    <a id="a3" name="a3"></a><a class="code hl_function" href="class_d_w1000_time.html#a743897a44c46369ca749bd52ca259db7">setTime</a>(timeUs);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><a class="code hl_function" href="class_d_w1000_time.html#a6d9648e0fea1899def84dc09556bd29d">DW1000Time::DW1000Time</a>(int32_t value, <span class="keywordtype">float</span> factorUs) {</div>
<div class="line">    <a class="code hl_function" href="class_d_w1000_time.html#a743897a44c46369ca749bd52ca259db7">setTime</a>(value, factorUs);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><a id="a4" name="a4"></a><a class="code hl_function" href="class_d_w1000_time.html#a1036123abf02ee429b9e5e5a557413c5">DW1000Time::~DW1000Time</a>() {}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> <a class="code hl_function" href="class_d_w1000_time.html#a62dcd395c3fc6819d4c1994dad06db78">DW1000Time::setTimestamp</a>(int64_t value) {</div>
<div class="line">    _timestamp = value;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> <a class="code hl_function" href="class_d_w1000_time.html#a62dcd395c3fc6819d4c1994dad06db78">DW1000Time::setTimestamp</a>(<span class="keywordtype">byte</span> data[]) {</div>
<div class="line">    _timestamp = 0;</div>
<div class="line">    <span class="keywordflow">for</span>(uint8_t i = 0; i &lt; <a id="a5" name="a5"></a><a class="code hl_variable" href="class_d_w1000_time.html#a15e78e2eb3d7c30e118bc88dcf2ba296">LENGTH_TIMESTAMP</a>; i++) {</div>
<div class="line">        _timestamp |= ((int64_t)data[i] &lt;&lt; (i*8));</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> <a class="code hl_function" href="class_d_w1000_time.html#a62dcd395c3fc6819d4c1994dad06db78">DW1000Time::setTimestamp</a>(<span class="keyword">const</span> <a class="code hl_class" href="class_d_w1000_time.html">DW1000Time</a>&amp; copy) {</div>
<div class="line">    _timestamp = copy.<a id="a6" name="a6"></a><a class="code hl_function" href="class_d_w1000_time.html#a4bbc27fdfe2276aeb8d985d26f566086">getTimestamp</a>();</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> <a class="code hl_function" href="class_d_w1000_time.html#a743897a44c46369ca749bd52ca259db7">DW1000Time::setTime</a>(<span class="keywordtype">float</span> timeUs) {</div>
<div class="line">    _timestamp = (int64_t)(timeUs*<a id="a7" name="a7"></a><a class="code hl_variable" href="class_d_w1000_time.html#a4b49d5a5c5f3f126dc4f89e2258c6d64">TIME_RES_INV</a>);</div>
<div class="line"><span class="comment">//  _timestamp %= TIME_OVERFLOW; // clean overflow</span></div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> <a class="code hl_function" href="class_d_w1000_time.html#a743897a44c46369ca749bd52ca259db7">DW1000Time::setTime</a>(int32_t value, <span class="keywordtype">float</span> factorUs) {</div>
<div class="line">    <span class="comment">//float tsValue = value*factorUs;</span></div>
<div class="line">    <span class="comment">//tsValue = fmod(tsValue, TIME_OVERFLOW);</span></div>
<div class="line">    <span class="comment">//setTime(tsValue);</span></div>
<div class="line">    <a class="code hl_function" href="class_d_w1000_time.html#a743897a44c46369ca749bd52ca259db7">setTime</a>(value*factorUs);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">int64_t <a class="code hl_function" href="class_d_w1000_time.html#a4bbc27fdfe2276aeb8d985d26f566086">DW1000Time::getTimestamp</a>()<span class="keyword"> const </span>{</div>
<div class="line">    <span class="keywordflow">return</span> _timestamp;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> <a class="code hl_function" href="class_d_w1000_time.html#a4bbc27fdfe2276aeb8d985d26f566086">DW1000Time::getTimestamp</a>(<span class="keywordtype">byte</span> data[])<span class="keyword"> const </span>{</div>
<div class="line">    memset(data, 0, <a class="code hl_variable" href="class_d_w1000_time.html#a15e78e2eb3d7c30e118bc88dcf2ba296">LENGTH_TIMESTAMP</a>);</div>
<div class="line">    <span class="keywordflow">for</span>(uint8_t i = 0; i &lt; <a class="code hl_variable" href="class_d_w1000_time.html#a15e78e2eb3d7c30e118bc88dcf2ba296">LENGTH_TIMESTAMP</a>; i++) {</div>
<div class="line">        data[i] = (byte)((_timestamp &gt;&gt; (i*8)) &amp; 0xFF);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">float</span> <a id="a8" name="a8"></a><a class="code hl_function" href="class_d_w1000_time.html#a818f1f37d5f128a94cfeb7aab76d735c">DW1000Time::getAsFloat</a>()<span class="keyword"> const </span>{</div>
<div class="line">    <span class="comment">//return fmod((float)_timestamp, TIME_OVERFLOW)*TIME_RES;</span></div>
<div class="line">    <span class="keywordflow">return</span> <a id="a9" name="a9"></a><a class="code hl_function" href="class_d_w1000_time.html#ae98c4a4e22cef4936e6a01f826d5625b">getAsMicroSeconds</a>();</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">float</span> <a class="code hl_function" href="class_d_w1000_time.html#ae98c4a4e22cef4936e6a01f826d5625b">DW1000Time::getAsMicroSeconds</a>()<span class="keyword"> const </span>{</div>
<div class="line">    <span class="keywordflow">return</span> (_timestamp%<a id="a10" name="a10"></a><a class="code hl_variable" href="class_d_w1000_time.html#ab43d5f800f01805692108ed71474658a">TIME_OVERFLOW</a>)*<a id="a11" name="a11"></a><a class="code hl_variable" href="class_d_w1000_time.html#a2ca1fba08fbe1371ee9391d378fcd50a">TIME_RES</a>;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">float</span> <a id="a12" name="a12"></a><a class="code hl_function" href="class_d_w1000_time.html#a0b36b35078bf12848b410627abb944eb">DW1000Time::getAsMeters</a>()<span class="keyword"> const </span>{</div>
<div class="line">    <span class="comment">//return fmod((float)_timestamp, TIME_OVERFLOW)*DISTANCE_OF_RADIO;</span></div>
<div class="line">    <span class="keywordflow">return</span> (_timestamp%<a class="code hl_variable" href="class_d_w1000_time.html#ab43d5f800f01805692108ed71474658a">TIME_OVERFLOW</a>)*<a id="a13" name="a13"></a><a class="code hl_variable" href="class_d_w1000_time.html#abdadbe4f3ec45d1dba5db8576ac7afa9">DISTANCE_OF_RADIO</a>;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><a class="code hl_class" href="class_d_w1000_time.html">DW1000Time</a>&amp; <a id="a14" name="a14"></a><a class="code hl_function" href="class_d_w1000_time.html#a2715e87a8ac5a7bb3bc100b9e33392a8">DW1000Time::wrap</a>() {</div>
<div class="line">    <span class="keywordflow">if</span>(_timestamp &lt; 0) {</div>
<div class="line">        _timestamp += <a class="code hl_variable" href="class_d_w1000_time.html#ab43d5f800f01805692108ed71474658a">TIME_OVERFLOW</a>;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">bool</span> <a id="a15" name="a15"></a><a class="code hl_function" href="class_d_w1000_time.html#ab3a5ca26a1667be0a146d43e50ffd144">DW1000Time::isValidTimestamp</a>() {</div>
<div class="line">    <span class="keywordflow">return</span> (0 &lt;= _timestamp &amp;&amp; _timestamp &lt;= <a id="a16" name="a16"></a><a class="code hl_variable" href="class_d_w1000_time.html#a245f8939b391ce9ef0e16ff40b778cef">TIME_MAX</a>);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// assign</span></div>
<div class="line"><a class="code hl_class" href="class_d_w1000_time.html">DW1000Time</a>&amp; <a id="a17" name="a17"></a><a class="code hl_function" href="class_d_w1000_time.html#ac43e0dd01a13ec7470029f12402ded2d">DW1000Time::operator=</a>(<span class="keyword">const</span> <a class="code hl_class" href="class_d_w1000_time.html">DW1000Time</a>&amp; assign) {</div>
<div class="line">    <span class="keywordflow">if</span>(<span class="keyword">this</span> == &amp;assign) {</div>
<div class="line">        <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line">    }</div>
<div class="line">    _timestamp = assign.<a class="code hl_function" href="class_d_w1000_time.html#a4bbc27fdfe2276aeb8d985d26f566086">getTimestamp</a>();</div>
<div class="line">    <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// add</span></div>
<div class="line"><a class="code hl_class" href="class_d_w1000_time.html">DW1000Time</a>&amp; <a id="a18" name="a18"></a><a class="code hl_function" href="class_d_w1000_time.html#a126d890f0d990cd709263120adbacaa7">DW1000Time::operator+=</a>(<span class="keyword">const</span> <a class="code hl_class" href="class_d_w1000_time.html">DW1000Time</a>&amp; add) {</div>
<div class="line">    _timestamp += add.<a class="code hl_function" href="class_d_w1000_time.html#a4bbc27fdfe2276aeb8d985d26f566086">getTimestamp</a>();</div>
<div class="line">    <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><a class="code hl_class" href="class_d_w1000_time.html">DW1000Time</a> <a id="a19" name="a19"></a><a class="code hl_function" href="class_d_w1000_time.html#a149b16a0533bc324b18cf193fae2d88c">DW1000Time::operator+</a>(<span class="keyword">const</span> <a class="code hl_class" href="class_d_w1000_time.html">DW1000Time</a>&amp; add)<span class="keyword"> const </span>{</div>
<div class="line">    <span class="keywordflow">return</span> <a class="code hl_function" href="class_d_w1000_time.html#a6d9648e0fea1899def84dc09556bd29d">DW1000Time</a>(*<span class="keyword">this</span>) += add;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// subtract</span></div>
<div class="line"><a class="code hl_class" href="class_d_w1000_time.html">DW1000Time</a>&amp; <a id="a20" name="a20"></a><a class="code hl_function" href="class_d_w1000_time.html#ac913f1cc477518c809ea385503d0a112">DW1000Time::operator-=</a>(<span class="keyword">const</span> <a class="code hl_class" href="class_d_w1000_time.html">DW1000Time</a>&amp; sub) {</div>
<div class="line">    _timestamp -= sub.<a class="code hl_function" href="class_d_w1000_time.html#a4bbc27fdfe2276aeb8d985d26f566086">getTimestamp</a>();</div>
<div class="line">    <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><a class="code hl_class" href="class_d_w1000_time.html">DW1000Time</a> <a id="a21" name="a21"></a><a class="code hl_function" href="class_d_w1000_time.html#ad1a51c37c1a852c15de872034ff05954">DW1000Time::operator-</a>(<span class="keyword">const</span> <a class="code hl_class" href="class_d_w1000_time.html">DW1000Time</a>&amp; sub)<span class="keyword"> const </span>{</div>
<div class="line">    <span class="keywordflow">return</span> <a class="code hl_function" href="class_d_w1000_time.html#a6d9648e0fea1899def84dc09556bd29d">DW1000Time</a>(*<span class="keyword">this</span>) -= sub;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// multiply</span></div>
<div class="line"><a class="code hl_class" href="class_d_w1000_time.html">DW1000Time</a>&amp; <a id="a22" name="a22"></a><a class="code hl_function" href="class_d_w1000_time.html#ac3562b57ab3d0c479b66c26a3fd0a7f3">DW1000Time::operator*=</a>(<span class="keywordtype">float</span> factor) {</div>
<div class="line">    <span class="comment">//float tsValue = (float)_timestamp*factor;</span></div>
<div class="line">    <span class="comment">//_timestamp = (int64_t)tsValue;</span></div>
<div class="line">    _timestamp *= factor;</div>
<div class="line">    <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><a class="code hl_class" href="class_d_w1000_time.html">DW1000Time</a> <a id="a23" name="a23"></a><a class="code hl_function" href="class_d_w1000_time.html#a95fd2f8b7359565ba32cd85b52767cd4">DW1000Time::operator*</a>(<span class="keywordtype">float</span> factor)<span class="keyword"> const </span>{</div>
<div class="line">    <span class="keywordflow">return</span> <a class="code hl_function" href="class_d_w1000_time.html#a6d9648e0fea1899def84dc09556bd29d">DW1000Time</a>(*<span class="keyword">this</span>) *= factor;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><a class="code hl_class" href="class_d_w1000_time.html">DW1000Time</a>&amp; <a class="code hl_function" href="class_d_w1000_time.html#ac3562b57ab3d0c479b66c26a3fd0a7f3">DW1000Time::operator*=</a>(<span class="keyword">const</span> <a class="code hl_class" href="class_d_w1000_time.html">DW1000Time</a>&amp; factor) {</div>
<div class="line">    _timestamp *= factor.<a class="code hl_function" href="class_d_w1000_time.html#a4bbc27fdfe2276aeb8d985d26f566086">getTimestamp</a>();</div>
<div class="line">    <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><a class="code hl_class" href="class_d_w1000_time.html">DW1000Time</a> <a class="code hl_function" href="class_d_w1000_time.html#a95fd2f8b7359565ba32cd85b52767cd4">DW1000Time::operator*</a>(<span class="keyword">const</span> <a class="code hl_class" href="class_d_w1000_time.html">DW1000Time</a>&amp; factor)<span class="keyword"> const </span>{</div>
<div class="line">    <span class="keywordflow">return</span> <a class="code hl_function" href="class_d_w1000_time.html#a6d9648e0fea1899def84dc09556bd29d">DW1000Time</a>(*<span class="keyword">this</span>) *= factor;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// divide</span></div>
<div class="line"><a class="code hl_class" href="class_d_w1000_time.html">DW1000Time</a>&amp; <a id="a24" name="a24"></a><a class="code hl_function" href="class_d_w1000_time.html#a62a21be8dbf1efa8ee449db63472be95">DW1000Time::operator/=</a>(<span class="keywordtype">float</span> factor) {</div>
<div class="line">    <span class="comment">//_timestamp *= (1.0f/factor);</span></div>
<div class="line">    _timestamp /= factor;</div>
<div class="line">    <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><a class="code hl_class" href="class_d_w1000_time.html">DW1000Time</a> <a id="a25" name="a25"></a><a class="code hl_function" href="class_d_w1000_time.html#a43272bf896b13f0548bd57988e455fe4">DW1000Time::operator/</a>(<span class="keywordtype">float</span> factor)<span class="keyword"> const </span>{</div>
<div class="line">    <span class="keywordflow">return</span> <a class="code hl_function" href="class_d_w1000_time.html#a6d9648e0fea1899def84dc09556bd29d">DW1000Time</a>(*<span class="keyword">this</span>) /= factor;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><a class="code hl_class" href="class_d_w1000_time.html">DW1000Time</a>&amp; <a class="code hl_function" href="class_d_w1000_time.html#a62a21be8dbf1efa8ee449db63472be95">DW1000Time::operator/=</a>(<span class="keyword">const</span> <a class="code hl_class" href="class_d_w1000_time.html">DW1000Time</a>&amp; factor) {</div>
<div class="line">    _timestamp /= factor.<a class="code hl_function" href="class_d_w1000_time.html#a4bbc27fdfe2276aeb8d985d26f566086">getTimestamp</a>();</div>
<div class="line">    <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><a class="code hl_class" href="class_d_w1000_time.html">DW1000Time</a> <a class="code hl_function" href="class_d_w1000_time.html#a43272bf896b13f0548bd57988e455fe4">DW1000Time::operator/</a>(<span class="keyword">const</span> <a class="code hl_class" href="class_d_w1000_time.html">DW1000Time</a>&amp; factor)<span class="keyword"> const </span>{</div>
<div class="line">    <span class="keywordflow">return</span> <a class="code hl_function" href="class_d_w1000_time.html#a6d9648e0fea1899def84dc09556bd29d">DW1000Time</a>(*<span class="keyword">this</span>) /= factor;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// compare</span></div>
<div class="line"><span class="keywordtype">boolean</span> <a id="a26" name="a26"></a><a class="code hl_function" href="class_d_w1000_time.html#ad76a44562e4b26a49f59982df743377f">DW1000Time::operator==</a>(<span class="keyword">const</span> <a class="code hl_class" href="class_d_w1000_time.html">DW1000Time</a>&amp; cmp)<span class="keyword"> const </span>{</div>
<div class="line">    <span class="keywordflow">return</span> _timestamp == cmp.<a class="code hl_function" href="class_d_w1000_time.html#a4bbc27fdfe2276aeb8d985d26f566086">getTimestamp</a>();</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">boolean</span> <a id="a27" name="a27"></a><a class="code hl_function" href="class_d_w1000_time.html#a29fb4901790622f3b5a9d4de21df4a99">DW1000Time::operator!=</a>(<span class="keyword">const</span> <a class="code hl_class" href="class_d_w1000_time.html">DW1000Time</a>&amp; cmp)<span class="keyword"> const </span>{</div>
<div class="line">    <span class="comment">//return !(*this == cmp); // seems not as intended</span></div>
<div class="line">    <span class="keywordflow">return</span> _timestamp != cmp.<a class="code hl_function" href="class_d_w1000_time.html#a4bbc27fdfe2276aeb8d985d26f566086">getTimestamp</a>();</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#ifdef DW1000TIME_H_PRINTABLE</span></div>
<div class="line"><span class="keywordtype">void</span> <a id="a28" name="a28"></a><a class="code hl_function" href="class_d_w1000_time.html#a68f5442f59786bb254af5c27bb8276ab">DW1000Time::print</a>() {</div>
<div class="line">    Serial.print(*<span class="keyword">this</span>);</div>
<div class="line">    Serial.println();</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">size_t</span> <a id="a29" name="a29"></a><a class="code hl_function" href="class_d_w1000_time.html#a6285b3bf98df35cd8ba8740542a0689a">DW1000Time::printTo</a>(Print&amp; p)<span class="keyword"> const </span>{</div>
<div class="line">    int64_t       number  = _timestamp;</div>
<div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> buf[21];</div>
<div class="line">    uint8_t       i       = 0;</div>
<div class="line">    uint8_t       printed = 0;</div>
<div class="line">    <span class="comment">// printf for arduino avr do not support int64, so we have to calculate</span></div>
<div class="line">    <span class="keywordflow">if</span>(number == 0) {</div>
<div class="line">        p.print((<span class="keywordtype">char</span>)<span class="charliteral">&#39;0&#39;</span>);</div>
<div class="line">        <span class="keywordflow">return</span> 1;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span>(number &lt; 0) {</div>
<div class="line">        p.print((<span class="keywordtype">char</span>)<span class="charliteral">&#39;-&#39;</span>);</div>
<div class="line">        number = -number; <span class="comment">// make positive</span></div>
<div class="line">        printed++;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">while</span>(number &gt; 0) {</div>
<div class="line">        int64_t q = number/10;</div>
<div class="line">        buf[i++] = number-q*10;</div>
<div class="line">        number = q;</div>
<div class="line">    }</div>
<div class="line">    printed += i;</div>
<div class="line">    <span class="keywordflow">for</span>(; i &gt; 0; i--)</div>
<div class="line">        p.print((<span class="keywordtype">char</span>)(buf[i-1] &lt; 10 ? <span class="charliteral">&#39;0&#39;</span>+buf[i-1] : <span class="stringliteral">&#39;A&#39;</span>+buf[i-1]-10));</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span> printed;</div>
<div class="line">}</div>
<div class="line"><span class="preprocessor">#endif </span><span class="comment">// DW1000Time_H_PRINTABLE</span></div>
<div class="ttc" id="a_d_w1000_time_8h_html"><div class="ttname"><a href="_d_w1000_time_8h.html">DW1000Time.h</a></div></div>
<div class="ttc" id="aclass_d_w1000_time_html"><div class="ttname"><a href="class_d_w1000_time.html">DW1000Time</a></div><div class="ttdef"><b>Definition</b> DW1000Time.h:43</div></div>
<div class="ttc" id="aclass_d_w1000_time_html_a0b36b35078bf12848b410627abb944eb"><div class="ttname"><a href="class_d_w1000_time.html#a0b36b35078bf12848b410627abb944eb">DW1000Time::getAsMeters</a></div><div class="ttdeci">float getAsMeters() const</div><div class="ttdef"><b>Definition</b> DW1000Time.cpp:172</div></div>
<div class="ttc" id="aclass_d_w1000_time_html_a1036123abf02ee429b9e5e5a557413c5"><div class="ttname"><a href="class_d_w1000_time.html#a1036123abf02ee429b9e5e5a557413c5">DW1000Time::~DW1000Time</a></div><div class="ttdeci">~DW1000Time()</div><div class="ttdef"><b>Definition</b> DW1000Time.cpp:78</div></div>
<div class="ttc" id="aclass_d_w1000_time_html_a126d890f0d990cd709263120adbacaa7"><div class="ttname"><a href="class_d_w1000_time.html#a126d890f0d990cd709263120adbacaa7">DW1000Time::operator+=</a></div><div class="ttdeci">DW1000Time &amp; operator+=(const DW1000Time &amp;add)</div><div class="ttdef"><b>Definition</b> DW1000Time.cpp:212</div></div>
<div class="ttc" id="aclass_d_w1000_time_html_a149b16a0533bc324b18cf193fae2d88c"><div class="ttname"><a href="class_d_w1000_time.html#a149b16a0533bc324b18cf193fae2d88c">DW1000Time::operator+</a></div><div class="ttdeci">DW1000Time operator+(const DW1000Time &amp;add) const</div><div class="ttdef"><b>Definition</b> DW1000Time.cpp:217</div></div>
<div class="ttc" id="aclass_d_w1000_time_html_a15e78e2eb3d7c30e118bc88dcf2ba296"><div class="ttname"><a href="class_d_w1000_time.html#a15e78e2eb3d7c30e118bc88dcf2ba296">DW1000Time::LENGTH_TIMESTAMP</a></div><div class="ttdeci">static constexpr uint8_t LENGTH_TIMESTAMP</div><div class="ttdef"><b>Definition</b> DW1000Time.h:56</div></div>
<div class="ttc" id="aclass_d_w1000_time_html_a245f8939b391ce9ef0e16ff40b778cef"><div class="ttname"><a href="class_d_w1000_time.html#a245f8939b391ce9ef0e16ff40b778cef">DW1000Time::TIME_MAX</a></div><div class="ttdeci">static constexpr int64_t TIME_MAX</div><div class="ttdef"><b>Definition</b> DW1000Time.h:60</div></div>
<div class="ttc" id="aclass_d_w1000_time_html_a2715e87a8ac5a7bb3bc100b9e33392a8"><div class="ttname"><a href="class_d_w1000_time.html#a2715e87a8ac5a7bb3bc100b9e33392a8">DW1000Time::wrap</a></div><div class="ttdeci">DW1000Time &amp; wrap()</div><div class="ttdef"><b>Definition</b> DW1000Time.cpp:187</div></div>
<div class="ttc" id="aclass_d_w1000_time_html_a29fb4901790622f3b5a9d4de21df4a99"><div class="ttname"><a href="class_d_w1000_time.html#a29fb4901790622f3b5a9d4de21df4a99">DW1000Time::operator!=</a></div><div class="ttdeci">boolean operator!=(const DW1000Time &amp;cmp) const</div><div class="ttdef"><b>Definition</b> DW1000Time.cpp:277</div></div>
<div class="ttc" id="aclass_d_w1000_time_html_a2ca1fba08fbe1371ee9391d378fcd50a"><div class="ttname"><a href="class_d_w1000_time.html#a2ca1fba08fbe1371ee9391d378fcd50a">DW1000Time::TIME_RES</a></div><div class="ttdeci">static constexpr float TIME_RES</div><div class="ttdef"><b>Definition</b> DW1000Time.h:48</div></div>
<div class="ttc" id="aclass_d_w1000_time_html_a43272bf896b13f0548bd57988e455fe4"><div class="ttname"><a href="class_d_w1000_time.html#a43272bf896b13f0548bd57988e455fe4">DW1000Time::operator/</a></div><div class="ttdeci">DW1000Time operator/(float factor) const</div><div class="ttdef"><b>Definition</b> DW1000Time.cpp:259</div></div>
<div class="ttc" id="aclass_d_w1000_time_html_a4b49d5a5c5f3f126dc4f89e2258c6d64"><div class="ttname"><a href="class_d_w1000_time.html#a4b49d5a5c5f3f126dc4f89e2258c6d64">DW1000Time::TIME_RES_INV</a></div><div class="ttdeci">static constexpr float TIME_RES_INV</div><div class="ttdef"><b>Definition</b> DW1000Time.h:49</div></div>
<div class="ttc" id="aclass_d_w1000_time_html_a4bbc27fdfe2276aeb8d985d26f566086"><div class="ttname"><a href="class_d_w1000_time.html#a4bbc27fdfe2276aeb8d985d26f566086">DW1000Time::getTimestamp</a></div><div class="ttdeci">int64_t getTimestamp() const</div><div class="ttdef"><b>Definition</b> DW1000Time.cpp:134</div></div>
<div class="ttc" id="aclass_d_w1000_time_html_a6285b3bf98df35cd8ba8740542a0689a"><div class="ttname"><a href="class_d_w1000_time.html#a6285b3bf98df35cd8ba8740542a0689a">DW1000Time::printTo</a></div><div class="ttdeci">size_t printTo(Print &amp;p) const</div><div class="ttdef"><b>Definition</b> DW1000Time.cpp:297</div></div>
<div class="ttc" id="aclass_d_w1000_time_html_a62a21be8dbf1efa8ee449db63472be95"><div class="ttname"><a href="class_d_w1000_time.html#a62a21be8dbf1efa8ee449db63472be95">DW1000Time::operator/=</a></div><div class="ttdeci">DW1000Time &amp; operator/=(float factor)</div><div class="ttdef"><b>Definition</b> DW1000Time.cpp:253</div></div>
<div class="ttc" id="aclass_d_w1000_time_html_a62dcd395c3fc6819d4c1994dad06db78"><div class="ttname"><a href="class_d_w1000_time.html#a62dcd395c3fc6819d4c1994dad06db78">DW1000Time::setTimestamp</a></div><div class="ttdeci">void setTimestamp(int64_t value)</div><div class="ttdef"><b>Definition</b> DW1000Time.cpp:84</div></div>
<div class="ttc" id="aclass_d_w1000_time_html_a68f5442f59786bb254af5c27bb8276ab"><div class="ttname"><a href="class_d_w1000_time.html#a68f5442f59786bb254af5c27bb8276ab">DW1000Time::print</a></div><div class="ttdeci">void print()</div><div class="ttdef"><b>Definition</b> DW1000Time.cpp:287</div></div>
<div class="ttc" id="aclass_d_w1000_time_html_a6d9648e0fea1899def84dc09556bd29d"><div class="ttname"><a href="class_d_w1000_time.html#a6d9648e0fea1899def84dc09556bd29d">DW1000Time::DW1000Time</a></div><div class="ttdeci">DW1000Time()</div><div class="ttdef"><b>Definition</b> DW1000Time.cpp:28</div></div>
<div class="ttc" id="aclass_d_w1000_time_html_a743897a44c46369ca749bd52ca259db7"><div class="ttname"><a href="class_d_w1000_time.html#a743897a44c46369ca749bd52ca259db7">DW1000Time::setTime</a></div><div class="ttdeci">void setTime(float timeUs)</div><div class="ttdef"><b>Definition</b> DW1000Time.cpp:112</div></div>
<div class="ttc" id="aclass_d_w1000_time_html_a818f1f37d5f128a94cfeb7aab76d735c"><div class="ttname"><a href="class_d_w1000_time.html#a818f1f37d5f128a94cfeb7aab76d735c">DW1000Time::getAsFloat</a></div><div class="ttdeci">float getAsFloat() const</div><div class="ttdef"><b>Definition</b> DW1000Time.cpp:154</div></div>
<div class="ttc" id="aclass_d_w1000_time_html_a95fd2f8b7359565ba32cd85b52767cd4"><div class="ttname"><a href="class_d_w1000_time.html#a95fd2f8b7359565ba32cd85b52767cd4">DW1000Time::operator*</a></div><div class="ttdeci">DW1000Time operator*(float factor) const</div><div class="ttdef"><b>Definition</b> DW1000Time.cpp:239</div></div>
<div class="ttc" id="aclass_d_w1000_time_html_ab3a5ca26a1667be0a146d43e50ffd144"><div class="ttname"><a href="class_d_w1000_time.html#ab3a5ca26a1667be0a146d43e50ffd144">DW1000Time::isValidTimestamp</a></div><div class="ttdeci">bool isValidTimestamp()</div><div class="ttdef"><b>Definition</b> DW1000Time.cpp:198</div></div>
<div class="ttc" id="aclass_d_w1000_time_html_ab43d5f800f01805692108ed71474658a"><div class="ttname"><a href="class_d_w1000_time.html#ab43d5f800f01805692108ed71474658a">DW1000Time::TIME_OVERFLOW</a></div><div class="ttdeci">static constexpr int64_t TIME_OVERFLOW</div><div class="ttdef"><b>Definition</b> DW1000Time.h:59</div></div>
<div class="ttc" id="aclass_d_w1000_time_html_abdadbe4f3ec45d1dba5db8576ac7afa9"><div class="ttname"><a href="class_d_w1000_time.html#abdadbe4f3ec45d1dba5db8576ac7afa9">DW1000Time::DISTANCE_OF_RADIO</a></div><div class="ttdeci">static constexpr float DISTANCE_OF_RADIO</div><div class="ttdef"><b>Definition</b> DW1000Time.h:52</div></div>
<div class="ttc" id="aclass_d_w1000_time_html_ac3562b57ab3d0c479b66c26a3fd0a7f3"><div class="ttname"><a href="class_d_w1000_time.html#ac3562b57ab3d0c479b66c26a3fd0a7f3">DW1000Time::operator*=</a></div><div class="ttdeci">DW1000Time &amp; operator*=(float factor)</div><div class="ttdef"><b>Definition</b> DW1000Time.cpp:232</div></div>
<div class="ttc" id="aclass_d_w1000_time_html_ac43e0dd01a13ec7470029f12402ded2d"><div class="ttname"><a href="class_d_w1000_time.html#ac43e0dd01a13ec7470029f12402ded2d">DW1000Time::operator=</a></div><div class="ttdeci">DW1000Time &amp; operator=(const DW1000Time &amp;assign)</div><div class="ttdef"><b>Definition</b> DW1000Time.cpp:203</div></div>
<div class="ttc" id="aclass_d_w1000_time_html_ac913f1cc477518c809ea385503d0a112"><div class="ttname"><a href="class_d_w1000_time.html#ac913f1cc477518c809ea385503d0a112">DW1000Time::operator-=</a></div><div class="ttdeci">DW1000Time &amp; operator-=(const DW1000Time &amp;sub)</div><div class="ttdef"><b>Definition</b> DW1000Time.cpp:222</div></div>
<div class="ttc" id="aclass_d_w1000_time_html_ad1a51c37c1a852c15de872034ff05954"><div class="ttname"><a href="class_d_w1000_time.html#ad1a51c37c1a852c15de872034ff05954">DW1000Time::operator-</a></div><div class="ttdeci">DW1000Time operator-(const DW1000Time &amp;sub) const</div><div class="ttdef"><b>Definition</b> DW1000Time.cpp:227</div></div>
<div class="ttc" id="aclass_d_w1000_time_html_ad76a44562e4b26a49f59982df743377f"><div class="ttname"><a href="class_d_w1000_time.html#ad76a44562e4b26a49f59982df743377f">DW1000Time::operator==</a></div><div class="ttdeci">boolean operator==(const DW1000Time &amp;cmp) const</div><div class="ttdef"><b>Definition</b> DW1000Time.cpp:273</div></div>
<div class="ttc" id="aclass_d_w1000_time_html_ae98c4a4e22cef4936e6a01f826d5625b"><div class="ttname"><a href="class_d_w1000_time.html#ae98c4a4e22cef4936e6a01f826d5625b">DW1000Time::getAsMicroSeconds</a></div><div class="ttdeci">float getAsMicroSeconds() const</div><div class="ttdef"><b>Definition</b> DW1000Time.cpp:163</div></div>
</div><!-- fragment --> </div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.7 </li>
  </ul>
</div>
</body>
</html>
