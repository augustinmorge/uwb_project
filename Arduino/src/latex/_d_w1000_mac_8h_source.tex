\doxysection{DW1000\+Mac.\+h}
\hypertarget{_d_w1000_mac_8h_source}{}\label{_d_w1000_mac_8h_source}\mbox{\hyperlink{_d_w1000_mac_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{/*}}
\DoxyCodeLine{00002\ \textcolor{comment}{\ *\ Copyright\ (c)\ 2015\ by\ Leopold\ Sayous\ <leosayous@gmail.com>\ and\ Thomas\ Trojer\ <thomas@trojer.net>}}
\DoxyCodeLine{00003\ \textcolor{comment}{\ *\ Decawave\ DW1000\ library\ for\ arduino.}}
\DoxyCodeLine{00004\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00005\ \textcolor{comment}{\ *\ Licensed\ under\ the\ Apache\ License,\ Version\ 2.0\ (the\ "{}License"{});}}
\DoxyCodeLine{00006\ \textcolor{comment}{\ *\ you\ may\ not\ use\ this\ file\ except\ in\ compliance\ with\ the\ License.}}
\DoxyCodeLine{00007\ \textcolor{comment}{\ *\ You\ may\ obtain\ a\ copy\ of\ the\ License\ at}}
\DoxyCodeLine{00008\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00009\ \textcolor{comment}{\ *\ \ \ \ \ http://www.apache.org/licenses/LICENSE-\/2.0}}
\DoxyCodeLine{00010\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00011\ \textcolor{comment}{\ *\ Unless\ required\ by\ applicable\ law\ or\ agreed\ to\ in\ writing,\ software}}
\DoxyCodeLine{00012\ \textcolor{comment}{\ *\ distributed\ under\ the\ License\ is\ distributed\ on\ an\ "{}AS\ IS"{}\ BASIS,}}
\DoxyCodeLine{00013\ \textcolor{comment}{\ *\ WITHOUT\ WARRANTIES\ OR\ CONDITIONS\ OF\ ANY\ KIND,\ either\ express\ or\ implied.}}
\DoxyCodeLine{00014\ \textcolor{comment}{\ *\ See\ the\ License\ for\ the\ specific\ language\ governing\ permissions\ and}}
\DoxyCodeLine{00015\ \textcolor{comment}{\ *\ limitations\ under\ the\ License.}}
\DoxyCodeLine{00016\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00017\ \textcolor{comment}{\ *\ @file\ DW1000Mac.h}}
\DoxyCodeLine{00018\ \textcolor{comment}{\ *\ Arduino\ global\ library\ (header\ file)\ working\ with\ the\ DW1000\ library}}
\DoxyCodeLine{00019\ \textcolor{comment}{\ *\ for\ the\ Decawave\ DW1000\ UWB\ transceiver\ IC.\ This\ class\ has\ the\ purpose}}
\DoxyCodeLine{00020\ \textcolor{comment}{\ *\ to\ generate\ the\ mac\ layer}}
\DoxyCodeLine{00021\ \textcolor{comment}{\ *\ }}
\DoxyCodeLine{00022\ \textcolor{comment}{\ *\ @todo\ everything,\ this\ class\ is\ only\ a\ prototype}}
\DoxyCodeLine{00023\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00024\ }
\DoxyCodeLine{00025\ \textcolor{preprocessor}{\#define\ FC\_1\ 0x41}}
\DoxyCodeLine{00026\ \textcolor{preprocessor}{\#define\ FC\_1\_BLINK\ 0xC5}}
\DoxyCodeLine{00027\ \textcolor{preprocessor}{\#define\ FC\_2\ 0x8C}}
\DoxyCodeLine{00028\ \textcolor{preprocessor}{\#define\ FC\_2\_SHORT\ 0x88}}
\DoxyCodeLine{00029\ }
\DoxyCodeLine{00030\ \textcolor{preprocessor}{\#define\ PAN\_ID\_1\ 0xCA}}
\DoxyCodeLine{00031\ \textcolor{preprocessor}{\#define\ PAN\_ID\_2\ 0xDE}}
\DoxyCodeLine{00032\ }
\DoxyCodeLine{00033\ \textcolor{preprocessor}{\#define\ SHORT\_MAC\_LEN\ 9}}
\DoxyCodeLine{00034\ \textcolor{preprocessor}{\#define\ LONG\_MAC\_LEN\ 15}}
\DoxyCodeLine{00035\ }
\DoxyCodeLine{00036\ }
\DoxyCodeLine{00037\ \textcolor{preprocessor}{\#ifndef\ \_DW1000MAC\_H\_INCLUDED}}
\DoxyCodeLine{00038\ \textcolor{preprocessor}{\#define\ \_DW1000MAC\_H\_INCLUDED}}
\DoxyCodeLine{00039\ }
\DoxyCodeLine{00040\ \textcolor{preprocessor}{\#include\ <Arduino.h>}}
\DoxyCodeLine{00041\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_d_w1000_device_8h}{DW1000Device.h}}"{}}\ }
\DoxyCodeLine{00042\ }
\DoxyCodeLine{00043\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_d_w1000_device}{DW1000Device}};}
\DoxyCodeLine{00044\ }
\DoxyCodeLine{00045\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_d_w1000_mac}{DW1000Mac}}\ \{}
\DoxyCodeLine{00046\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00047\ \ \ \ \ \textcolor{comment}{//Constructor\ and\ destructor}}
\DoxyCodeLine{00048\ \ \ \ \ \mbox{\hyperlink{class_d_w1000_mac_a2ce231562de0be4a18ec7612cc8c7055}{DW1000Mac}}(\mbox{\hyperlink{class_d_w1000_device}{DW1000Device}}*\ parent);}
\DoxyCodeLine{00049\ \ \ \ \ \mbox{\hyperlink{class_d_w1000_mac_a909721404f8104f11f6d742109f737db}{DW1000Mac}}();}
\DoxyCodeLine{00050\ \ \ \ \ \mbox{\hyperlink{class_d_w1000_mac_a293da3de13fab424c05bf7a03f0fb644}{\string~DW1000Mac}}();}
\DoxyCodeLine{00051\ \ \ \ \ }
\DoxyCodeLine{00052\ \ \ \ \ }
\DoxyCodeLine{00053\ \ \ \ \ \textcolor{comment}{//setters}}
\DoxyCodeLine{00054\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_d_w1000_mac_a43d5a523f597d2ba864a7ad22992705d}{setDestinationAddress}}(\textcolor{keywordtype}{byte}*\ destinationAddress);}
\DoxyCodeLine{00055\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_d_w1000_mac_a91c708d29ac3af102d3286f1b0567743}{setDestinationAddressShort}}(\textcolor{keywordtype}{byte}*\ shortDestinationAddress);}
\DoxyCodeLine{00056\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_d_w1000_mac_ac70032280e060369c529893cedaba329}{setSourceAddress}}(\textcolor{keywordtype}{byte}*\ sourceAddress);}
\DoxyCodeLine{00057\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_d_w1000_mac_aecf242f46fed339168cab8138d030647}{setSourceAddressShort}}(\textcolor{keywordtype}{byte}*\ shortSourceAddress);}
\DoxyCodeLine{00058\ \ \ \ \ }
\DoxyCodeLine{00059\ \ \ \ \ }
\DoxyCodeLine{00060\ \ \ \ \ \textcolor{comment}{//for\ poll\ message\ we\ use\ just\ 2\ bytes\ address}}
\DoxyCodeLine{00061\ \ \ \ \ \textcolor{comment}{//total=12\ bytes}}
\DoxyCodeLine{00062\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_d_w1000_mac_a437fa0efccbef6bc0a0b627e01bd7631}{generateBlinkFrame}}(\textcolor{keywordtype}{byte}\ frame[],\ \textcolor{keywordtype}{byte}\ sourceAddress[],\ \textcolor{keywordtype}{byte}\ sourceShortAddress[]);}
\DoxyCodeLine{00063\ \ \ \ \ }
\DoxyCodeLine{00064\ \ \ \ \ \textcolor{comment}{//the\ short\ fram\ usually\ for\ Resp,\ Final,\ or\ Report}}
\DoxyCodeLine{00065\ \ \ \ \ \textcolor{comment}{//2\ bytes\ for\ Desination\ Address\ and\ 2\ bytes\ for\ Source\ Address}}
\DoxyCodeLine{00066\ \ \ \ \ \textcolor{comment}{//total=9\ bytes}}
\DoxyCodeLine{00067\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_d_w1000_mac_a9f71c8982e0b95e126d2e6fd97c7f686}{generateShortMACFrame}}(\textcolor{keywordtype}{byte}\ frame[],\ \textcolor{keywordtype}{byte}\ sourceShortAddress[],\ \textcolor{keywordtype}{byte}\ destinationShortAddress[]);}
\DoxyCodeLine{00068\ \ \ \ \ }
\DoxyCodeLine{00069\ \ \ \ \ \textcolor{comment}{//the\ long\ frame\ for\ Ranging\ init}}
\DoxyCodeLine{00070\ \ \ \ \ \textcolor{comment}{//8\ bytes\ for\ Destination\ Address\ and\ 2\ bytes\ for\ Source\ Address}}
\DoxyCodeLine{00071\ \ \ \ \ \textcolor{comment}{//total\ of}}
\DoxyCodeLine{00072\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_d_w1000_mac_a9aa586d9a2f32948c6bdb32fd8060317}{generateLongMACFrame}}(\textcolor{keywordtype}{byte}\ frame[],\ \textcolor{keywordtype}{byte}\ sourceShortAddress[],\ \textcolor{keywordtype}{byte}\ destinationAddress[]);}
\DoxyCodeLine{00073\ \ \ \ \ }
\DoxyCodeLine{00074\ \ \ \ \ \textcolor{comment}{//in\ order\ to\ decode\ the\ frame\ and\ save\ source\ Address!}}
\DoxyCodeLine{00075\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_d_w1000_mac_a2f463c08db2db3c66a1c78cc939b2068}{decodeBlinkFrame}}(\textcolor{keywordtype}{byte}\ frame[],\ \textcolor{keywordtype}{byte}\ address[],\ \textcolor{keywordtype}{byte}\ shortAddress[]);}
\DoxyCodeLine{00076\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_d_w1000_mac_a7858e613a82b01bc30faa4d65ec86970}{decodeShortMACFrame}}(\textcolor{keywordtype}{byte}\ frame[],\ \textcolor{keywordtype}{byte}\ address[]);}
\DoxyCodeLine{00077\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_d_w1000_mac_ad52462fa07f4130dceccdaa8edb96ebf}{decodeLongMACFrame}}(\textcolor{keywordtype}{byte}\ frame[],\ \textcolor{keywordtype}{byte}\ address[]);}
\DoxyCodeLine{00078\ \ \ \ \ }
\DoxyCodeLine{00079\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_d_w1000_mac_a20763a3a40fa1c9e652486a4ba48c9af}{incrementSeqNumber}}();}
\DoxyCodeLine{00080\ }
\DoxyCodeLine{00081\ }
\DoxyCodeLine{00082\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00083\ \ \ \ \ uint8\_t\ \_seqNumber\ =\ 0;}
\DoxyCodeLine{00084\ \ \ \ \ \textcolor{keywordtype}{void}\ reverseArray(\textcolor{keywordtype}{byte}\ to[],\ \textcolor{keywordtype}{byte}\ from[],\ int16\_t\ size);}
\DoxyCodeLine{00085\ \ \ \ \ }
\DoxyCodeLine{00086\ \};}
\DoxyCodeLine{00087\ }
\DoxyCodeLine{00088\ }
\DoxyCodeLine{00089\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00090\ }

\end{DoxyCode}
